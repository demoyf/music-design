webpackJsonp([7],{"+VQI":function(t,e,n){"use strict";e.b=function(t="history",e){window.localStorage&&localStorage.setItem(t,e)},e.a=function(t="history"){if(window.localStorage)return localStorage.getItem(t)}},0:function(t,e){},"34KM":function(t,e){},"3SXa":function(t,e){},"7lrY":function(t,e){},EV1k:function(t,e,n){"use strict";var o=n("mvHQ"),s=n.n(o),i=n("VeaS"),a={name:"login-com",props:["loginType"],data:function(){return{type:this.loginType,is_login:!1,info:{username:"",password:"",second_password:"",code:""},is_manage:!1,mail_success:!1,code_success:!1,password_success:!1,second_password_success:!1,show_alert:!1,alert_msg:"123456",alert_color:"#FF7F50",login_result_msg:""}},components:{"my-alert":n("YLFo").a},methods:{close_me:function(){this.is_login=!1,this.$emit("close-login")},login:function(){var t=this;if("login"==this.loginType){if(this.check_email()&&this.check_password()){var e=this.info,n=i.a.check_user_info;this.$http.post(n,e).then(function(e){if(200==e.status){var n=e.body;if(n.success){var o=n.info;t.login_result_msg=o.nickname,setTimeout(function(){t.is_login=!0,setTimeout(function(){window.location.reload()},1500)},200),localStorage.setItem("current_user",s()(o))}else t.show_alert_tip(n.msg)}}).catch(function(){t.show_alert_tip("未知的错误发生了")})}}else if(this.check_email()&&this.check_code()&&this.check_password()&&this.check_second_password()){var o=i.a.add_user,a=this.info;this.$http.post(o,a).then(function(e){if(200==e.status){var n=e.body;if(n.success){var o=n.data;t.login_result_msg=o.nickname,setTimeout(function(){t.is_login=!0,setTimeout(function(){window.location.reload()},1500)},200),localStorage.setItem("current_user",s()(o))}else t.show_alert_tip(n.msg)}}).catch(function(){t.show_alert_tip("未知的错误发生了")})}},check_email:function(){var t=this.info.username;return/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(t)?(this.mail_success=!0,!0):(this.show_alert_tip("邮箱格式不正确"),!1)},check_password:function(){return this.info.password.length<6?(this.show_alert_tip("密码长度不少于6位"),!1):(this.password_success=!0,!0)},check_second_password:function(){var t=this.info;return t.password===t.second_password?(this.second_password_success=!0,!0):(this.show_alert_tip("两次输入的密码不一致"),!1)},check_code:function(){return this.info.code?(this.code_success=!0,!0):(this.show_alert_tip("验证码不能为空"),!1)},show_alert_tip:function(t,e){var n=this;t&&(this.alert_msg=t),e&&(this.alert_color=e),this.show_alert=!0,setTimeout(function(){n.show_alert=!1},1e3)}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login-com"}},[n("div",{staticClass:"main-bg",on:{click:function(e){t.close_me()}}}),t._v(" "),n("div",{staticClass:"container"},[n("div",{staticClass:"login-container",class:t.is_login?"start-animation":""},[t._m(0),t._v(" "),n("div",{staticClass:"user-name-container"},[n("label",[t._v("\n          账号：\n          "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.info.username,expression:"info.username"}],attrs:{type:"email",name:"user_name"},domProps:{value:t.info.username},on:{blur:function(e){t.check_email()},input:function(e){e.target.composing||t.$set(t.info,"username",e.target.value)}}})])]),t._v(" "),"login"!==t.loginType?n("div",{staticClass:"code-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.info.code,expression:"info.code"}],attrs:{type:"text",name:"code"},domProps:{value:t.info.code},on:{blur:function(e){t.check_code()},input:function(e){e.target.composing||t.$set(t.info,"code",e.target.value)}}}),t._v(" "),n("button",{attrs:{type:"button",name:"button"}},[t._v("获取验证码")])]):t._e(),t._v(" "),n("div",{staticClass:"password-container"},[n("label",[t._v("\n          密码：\n          "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.info.password,expression:"info.password"}],attrs:{type:"password",name:"password"},domProps:{value:t.info.password},on:{blur:function(e){t.check_password()},input:function(e){e.target.composing||t.$set(t.info,"password",e.target.value)}}})])]),t._v(" "),"login"!=t.loginType?n("div",{staticClass:"password-container"},[n("label",[t._v("\n          密码：\n          "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.info.second_password,expression:"info.second_password"}],attrs:{type:"password",name:"second_password"},domProps:{value:t.info.second_password},on:{blur:function(e){t.check_second_password()},input:function(e){e.target.composing||t.$set(t.info,"second_password",e.target.value)}}})])]):t._e(),t._v(" "),"login"==t.loginType?n("div",{staticClass:"check-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.is_manage,expression:"is_manage"}],staticClass:"chooseBtn",attrs:{type:"checkbox",name:"sex",id:"male"},domProps:{checked:Array.isArray(t.is_manage)?t._i(t.is_manage,null)>-1:t.is_manage},on:{change:function(e){var n=t.is_manage,o=e.target,s=!!o.checked;if(Array.isArray(n)){var i=t._i(n,null);o.checked?i<0&&(t.is_manage=n.concat([null])):i>-1&&(t.is_manage=n.slice(0,i).concat(n.slice(i+1)))}else t.is_manage=s}}}),t._v(" "),n("label",{staticClass:"choose-label",attrs:{for:"male"}}),t._v("\n        管理员登录选项\n      ")]):t._e(),t._v(" "),n("button",{staticClass:"login-button",attrs:{type:"button",name:"login"},on:{click:function(e){t.login()}}},[t._v(t._s("login"==t.loginType?"登录":"注册"))])]),t._v(" "),n("div",{staticClass:"login-msg",staticStyle:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},[n("p",{staticStyle:{"margin-bottom":"1em","font-size":"1.2em"}},[t._v("亲爱的"+t._s(t.is_manage?"管理员":"用户"))]),t._v(" "),n("p",{staticStyle:{color:"#31c27c","margin-bottom":"1em"}},[t._v(t._s(t.login_result_msg))]),t._v(" "),n("p",[t._v(t._s("login"==t.loginType?"欢迎回来":"欢迎加入"))])])]),t._v(" "),n("my-alert",{attrs:{msg:t.alert_msg,"is-show":t.show_alert,"show-color":t.alert_color}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title-info"},[e("h2",[this._v("登 录")])])}]};var c=n("VU/8")(a,r,!1,function(t){n("RrvE")},"data-v-0eb5dd1f",null);e.a=c.exports},HJnF:function(t,e,n){"use strict";var o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"my-alert"}},[e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.isShow,expression:"isShow"}],staticClass:"alert-container",style:{"background-color":this.showColor}},[this._v("\n      "+this._s(this.msg)+"\n    ")])])],1)},staticRenderFns:[]};var s=n("VU/8")({name:"my-alert",props:["msg","isShow","showColor"],data:function(){return{}}},o,!1,function(t){n("aL15")},"data-v-cb06f6ca",null);e.a=s.exports},I6Qg:function(t,e){},KGP4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),s=n("S6Sm"),i=(n("+VQI"),n("ZZh2"),n("ve3d")),a=n("P10z"),r=n("HJnF"),c=n("gigB"),_=n("dQCR"),l={name:"comment",props:["commentObj","canDelete","index"],data:function(){return{}},methods:{emit_delete:function(){this.$emit("deletecomment",this.commentObj._id,this.index)}},filters:{get_picture:function(t){return"number"==typeof t||t.indexOf("http")<0?"http://106.14.13.178/icon/"+t+".jpg":t},formatDateTime:function(t){var e=new Date(t),n=e.getFullYear(),o=e.getMonth()+1;o=o<10?"0"+o:o;var s=e.getDate();s=s<10?"0"+s:s;var i=e.getHours();i=i<10?"0"+i:i;var a=e.getMinutes(),r=e.getSeconds();return n+"-"+o+"-"+s+" "+i+":"+(a=a<10?"0"+a:a)+":"+(r=r<10?"0"+r:r)}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"comment"}},[n("div",{staticClass:"header"},[n("div",{staticClass:"img-container"},[n("img",{attrs:{src:t._f("get_picture")(t.commentObj.my_picture),alt:""}})]),t._v(" "),n("p",[t._v(t._s(t.commentObj.my_name))]),t._v(" "),n("p",{staticStyle:{"text-align":"right",color:"rgba(0,0,0,0.6)"}},[t._v(t._s(t._f("formatDateTime")(t.commentObj.publish_time)))])]),t._v(" "),n("div",{staticClass:"content"},[n("p",[t._v(t._s(t.commentObj.comment_content))])]),t._v(" "),n("div",{staticClass:"footer"},[n("button",{attrs:{type:"button",name:"button"}},[t._v("回复")]),t._v(" "),t.canDelete?n("button",{attrs:{type:"button",name:"button"},on:{click:t.emit_delete}},[t._v("删除")]):t._e()])])},staticRenderFns:[]};var m=n("VU/8")(l,u,!1,function(t){n("yzI6")},"data-v-0450414a",null).exports,h={name:"App",data:function(){return{forum_info:void 0,current_user:void 0,show_alert:!1,alert_msg:"123456",alert_color:"#FF7F50",config_obj:{header:"删除",msg:"确定删除？"},show_comfirm:!1,report_type:1,publish_comment_content:"",comment_list:[],current_active_comment:void 0,can_delete:!1,show_delete:!1,current_delete:0,current_index:-1}},components:{"forum-header":i.a,"to-top":a.a,"my-alert":r.a,"my-footer":_.a,"yf-comfirm":c.a,comment:m},computed:{get_length:function(){return 140-this.publish_comment_content.length}},filters:{formatDateTime:function(t){var e=new Date(t),n=e.getFullYear(),o=e.getMonth()+1;o=o<10?"0"+o:o;var s=e.getDate();s=s<10?"0"+s:s;var i=e.getHours();i=i<10?"0"+i:i;var a=e.getMinutes(),r=e.getSeconds();return a=a<10?"0"+a:a,r=r<10?"0"+r:r,n+"-"+o+"-"+s}},methods:{change_delete_comment:function(t,e){this.current_delete=t,this.show_delete=!0,this.current_index=e},sure_delete_comment:function(){var t=this,e=this.current_delete,n=this.forum_info._id,o=s.a.delete_comment+e+"/"+n,i=this.current_index;this.$http.get(o).then(function(e){200==e.status&&(e.body.success?(t.comment_list.splice(i,1),t.forum_info.comment_count=e.body.count,t.show_alert_tip("删除成功","#31c27caa")):t.show_alert_tip("删除失败","#FF7F50"),t.show_delete=!1)}).catch(function(){t.show_delete=!1,t.show_alert_tip("删除失败","#FF7F50")})},publish_comment:function(t){var e=this,n=s.a.publish_comment,o=this.publish_comment_content;if(""!=o){var i=this.current_user,a=this.forum_info,r=(new Date).getTime(),c={comment_content:o,is_new:!0,user_id:a.user_id,my_id:i._id,forum_id:a._id,my_picture:i.picture,forum_title:a.title,my_name:i.nickname,is_ban:!1,publish_time:r,type:1};if(2==t){var _=this.current_active_comment;if(_.my_id==i._id)return void this.show_alert_tip("不能回复自己","#FF7F50");c={comment_content:o,is_new:!0,user_id:a.user_id,my_id:i._id,forum_id:a._id,my_picture:i.picture,forum_title:a.title,my_name:i.nickname,is_ban:!1,publish_time:r,replay_to_user_id:_.my_id,replay_to_commetn_content:_.comment_content,replay_to_user_name:_.my_name,replay_to_user_picture:_.my_picture,type:2}}this.$http.post(n,c).then(function(t){if(200==t.status){var n=t.body;n.success?(c._id=n._id,e.comment_list.push(c),e.publish_comment_content="",e.forum_info.comment_count=n.count,e.show_alert_tip("发表成功","#31c27caa")):e.show_alert_tip("发表失败","#FF7F50")}}).catch(function(){e.show_alert_tip("发表失败","#FF7F50")})}else this.show_alert_tip("内容不能为空","#FF7F50")},delete_click:function(t){this.show_comfirm=!0,this.report_type=t},sure_click:function(){var t=this,e=this.report_type,n=this.forum_info,o="",i="删除成功",a="删除失败";1==e?o=s.a.delete_user+n.user_id+"/true":2==e?o=s.a.delete_forum+n.user_id+"/true":3==e&&(i="举报成功",a="举报失败",this.config_obj={header:"举报",msg:"确定举报？"},o=s.a.report_user+n.user_id),this.$http.get(o).then(function(e){200==e.status&&(e.body.success?t.show_alert_tip(i,"#31c27caa"):t.show_alert_tip(a,"#FF7F50"),t.config_obj={header:"删除",msg:"确定删除？"},t.show_comfirm=!1)}).catch(function(){t.show_alert_tip(a,"#FF7F50"),t.config_obj={header:"删除",msg:"确定删除？"},t.show_comfirm=!1})},hide_comfirm:function(){this.show_comfirm=!1,this.show_delete=!1},show_alert_tip:function(t,e){var n=this;t&&(this.alert_msg=t),e&&(this.alert_color=e),this.show_alert=!0,setTimeout(function(){n.show_alert=!1},1e3)}},created:function(){var t=this,e=localStorage.getItem("show_forum_current"),n=s.a.forum_content_url+e,o=JSON.parse(localStorage.getItem("current_user"));this.current_user=o,this.$http.get(n).then(function(e){if(200===e.status){var n=e.body;("number"==typeof n.user_picture||n.user_picture.indexOf("http")<0)&&(n.user_picture="http://106.14.13.178/icon/"+n.user_picture+".jpg"),t.forum_info=n}});var i=s.a.get_comment_url+e+"/0/10";this.$http.get(i).then(function(e){if(200===e.status){var n=e.body;t.comment_list=n}})}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.forum_info?n("div",{attrs:{id:"App"}},[n("forum-header",{staticClass:"my-header"}),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"left-nav"},[n("div",{staticClass:"img-container"},[n("img",{attrs:{src:t.forum_info.user_picture,alt:""}})]),t._v(" "),n("p",[t._v(t._s(t.forum_info.user_name))]),t._v(" "),n("p",[t._v(t._s(t._f("formatDateTime")(t.forum_info.publish_time)))]),t._v(" "),n("p",[t._v("评论："+t._s(t.forum_info.comment_count))]),t._v(" "),t.current_user.is_manager?n("p",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.delete_click(1)}}},[t._v("禁言用户")]):t._e(),t._v(" "),t.current_user.is_manager||t.forum_info.user_id==t.current_user._id?n("p",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.delete_click(2)}}},[t._v("删除帖子")]):t._e(),t._v(" "),n("p",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.delete_click(3)}}},[t._v("举报用户")])]),t._v(" "),n("div",{staticClass:"right-content"},[t.forum_info.info?n("div",{staticClass:"tag"},[n("div",{staticClass:"img-container"},[n("img",{attrs:{src:t.forum_info.info.picture,alt:""}})]),t._v(" "),n("p",[t._v(t._s(t.forum_info.info.name))])]):t._e(),t._v(" "),n("div",{staticClass:"title"},[n("h1",[t._v(t._s(t.forum_info.title))])]),t._v(" "),n("div",{staticClass:"forum-content",staticStyle:{"padding-bottom":"3em","border-bottom":"1px solid rgba(0,0,0,0.1)"},domProps:{innerHTML:t._s(t.forum_info.content)}},[t._v("\n        "+t._s(t.forum_info.content)+"\n      ")]),t._v(" "),n("div",{staticClass:"comment-content"},[n("div",{staticClass:"publish-comment"},[n("h1",[t._v("发表评论")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.publish_comment_content,expression:"publish_comment_content"}],staticStyle:{resize:"none"},attrs:{name:"name",rows:"8",cols:"80",maxlength:"140",placeholder:"说点什么？"},domProps:{value:t.publish_comment_content},on:{input:function(e){e.target.composing||(t.publish_comment_content=e.target.value)}}}),t._v(" "),n("p",[t._v("剩余字数："+t._s(t.get_length))]),t._v(" "),n("button",{attrs:{type:"button",name:"button"},on:{click:t.publish_comment}},[t._v("发表")])])]),t._v(" "),n("div",{staticClass:"show-comment"},t._l(t.comment_list,function(e,o){return 1!=e.type||e.is_ban?t._e():n("comment",{attrs:{"can-delete":e.my_id==t.current_user._id,index:o,"comment-obj":e},on:{deletecomment:t.change_delete_comment}})}))])]),t._v(" "),n("my-alert",{attrs:{msg:t.alert_msg,"is-show":t.show_alert,"show-color":t.alert_color}}),t._v(" "),n("yf-comfirm",{directives:[{name:"show",rawName:"v-show",value:t.show_comfirm,expression:"show_comfirm"}],attrs:{config:t.config_obj},on:{sure:t.sure_click,closeconfirm:t.hide_comfirm}}),t._v(" "),n("yf-comfirm",{directives:[{name:"show",rawName:"v-show",value:t.show_delete,expression:"show_delete"}],attrs:{config:t.config_obj},on:{sure:t.sure_delete_comment,closeconfirm:t.hide_comfirm}}),t._v(" "),n("to-top"),t._v(" "),n("my-footer"),t._v(" "),n("div",{staticClass:"reply-content"})],1):t._e()},staticRenderFns:[]};var d=n("VU/8")(h,f,!1,function(t){n("7lrY")},"data-v-582e7388",null).exports,p=(n("34KM"),n("Mdbh"));o.a.use(p.a),new o.a({el:"#app",render:t=>t(d)})},"L7D+":function(t,e){},P10z:function(t,e,n){"use strict";var o={name:"to-top",data:function(){return{is_show:!1}},methods:{back_top:function(){var t=window.scrollY,e=Math.floor(t/300*20);this.is_show&&setTimeout(function n(){if(t-e<=0)return void window.scrollTo(0,0);window.scrollTo(0,t-e),console.log(t-e),t-=e,setTimeout(n,20)},20)}},mounted:function(){var t=this;document.body.onscroll=function(e){if(0==e.target.scrollingElement.scrollTop)t.is_show=!1;else{if(t.is_show)return;t.is_show=!0}}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"to-top"}},[n("div",{staticClass:"container",class:t.is_show?"show-top":"",on:{click:function(e){t.back_top()}}},[n("i",{staticClass:"icon-chevron-up"})])])},staticRenderFns:[]};var i=n("VU/8")(o,s,!1,function(t){n("3SXa")},"data-v-3fb549ce",null);e.a=i.exports},RrvE:function(t,e){},S6Sm:function(t,e,n){"use strict";const o="http://106.14.13.178:3000/",s="http://106.14.13.178:3000/";e.a={search_suggestion:o+"search/suggesstion/",search_all:o+"search/all/",billboard:o+"billboard/",get_new_song:o+"song/new_song/",get_song_by_id:o+"song/get_song/",get_artist_song_lsit:o+"song/song_list/",get_hot_artsit:o+"artist/hot_artist/",get_artist_by_id:o+"artist/get_artist/",get_new_album:o+"album/new_album/",get_album_info:o+"album/album_info/",get_artist_album:o+"album/artist_album/",forum_url:s+"forum/publish",user_info_url:s+"user/info/",get_time_forum:s+"forum/time_forum/",get_hot_forum:s+"forum/hot_forum/",get_type_time_forum:s+"forum/type_time/",get_type_hot_forum:s+"forum/type_comment/",get_search_forum:s+"forum/search/",report_user:s+"user/report/",report_tag:s+"forum/report/",delete_forum:s+"user/ban_forum/",delete_user:s+"user/ban/",forum_content_url:s+"forum/forum_content/",publish_comment:s+"comment/publish_comment/",get_comment_url:s+"comment/get_comment/",delete_comment:s+"comment/delete/"}},VeaS:function(t,e,n){"use strict";var o="http://106.14.13.178:3000/",s="http://106.14.13.178:3000/";e.a={search_suggestion:o+"search/suggesstion/",search_all:o+"search/all/",billboard:o+"billboard/",get_new_song:o+"song/new_song/",get_song_by_id:o+"song/get_song/",get_artist_song_lsit:o+"song/song_list/",get_hot_artsit:o+"artist/hot_artist/",get_artist_by_id:o+"artist/get_artist/",get_new_album:o+"album/new_album/",get_album_info:o+"album/album_info/",get_artist_album:o+"album/artist_album/",check_user_info:s+"user/check",add_user:s+"user/reg"}},YLFo:function(t,e,n){"use strict";var o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"my-alert"}},[e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.isShow,expression:"isShow"}],staticClass:"alert-container",style:{"background-color":this.showColor}},[this._v("\n      "+this._s(this.msg)+"\n    ")])])],1)},staticRenderFns:[]};var s=n("VU/8")({name:"my-alert",props:["msg","isShow","showColor"],data:function(){return{}}},o,!1,function(t){n("kByx")},"data-v-66b28a38",null);e.a=s.exports},ZZh2:function(t,e,n){"use strict";e.a={get_song_info:"current_song",get_album_info:"current_album",get_artist_id:"current_artist",get_ting_id:"current_ting",get_play_song_id:"play_song_id",get_has_paly_page:"has_paly_page",jump_album_info:"/page/album_info.html",jump_song_info:"/page/song_list.html",jump_artist_info:"/page/artist.html",jump_play_music:"/page/play_music.html"}},aL15:function(t,e){},dQCR:function(t,e,n){"use strict";var o=n("c/Tr"),s=n.n(o),i={0:{name:"我的个人博客哇",link:"http://xyf0412.oicp.io/",icon:"icon-quill"},1:{name:"书签和案例展示",link:"http://xyf0412.oicp.io/MarkerPage",icon:"icon-bookmarks"},2:{name:"我的github地址",link:"https://github.com/demoyf",icon:"icon-github"},length:3},a={name:"",data:function(){return{link_list:[]}},created:function(){this.link_list=s()(i)}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"footer"}},t._l(t.link_list,function(e){return n("a",{attrs:{href:e.link,target:"_blank"}},[n("div",{staticClass:"link-container"},[n("p",{staticClass:"name-container"},[t._v(t._s(e.name))]),t._v(" "),n("i",{staticClass:"my-link-icon",class:e.icon})])])}))},staticRenderFns:[]};var c=n("VU/8")(a,r,!1,function(t){n("I6Qg")},"data-v-7404eab6",null);e.a=c.exports},gigB:function(t,e,n){"use strict";var o={name:"confirm",props:["config"],data:function(){return{}},methods:{close_comfim:function(t){t.preventDefault(),t.stopPropagation(),this.$emit("closeconfirm","")},sure_button:function(){event.preventDefault(),event.stopPropagation(),this.$emit("sure","")}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"confirm"}},[n("div",{staticClass:"bg",on:{click:t.close_comfim}}),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"header"},[t._v("\n      "+t._s(t.config.header)+"\n    ")]),t._v(" "),n("div",{staticClass:"msg"},[t._v("\n      "+t._s(t.config.msg)+"\n    ")]),t._v(" "),n("div",{staticClass:"button-container"},[n("button",{staticClass:"delete-button",attrs:{type:"button",name:"button"},on:{click:t.sure_button}},[t._v("确定")]),t._v(" "),n("button",{attrs:{type:"button",name:"button"},on:{click:t.close_comfim}},[t._v("取消")])])])])},staticRenderFns:[]};var i=n("VU/8")(o,s,!1,function(t){n("L7D+")},"data-v-9a5d45ee",null);e.a=i.exports},kByx:function(t,e){},"mz/e":function(t,e){},ve3d:function(t,e,n){"use strict";var o={name:"forum-header",data:function(){return{show_login:!1,show_reg:!1,user_info:void 0,show_control:!1}},created:function(){var t=this,e=localStorage.getItem("current_user");if(e&&""!==e){var n=JSON.parse(e);("number"==typeof n.picture||n.picture.indexOf("http")<0)&&(n.picture="http://106.14.13.178/icon/"+n.picture+".jpg"),this.user_info=n}document.addEventListener("click",function(e){t.show_control&&(t.show_control=!1)})},components:{"login-com":n("EV1k").a},methods:{to_forum_page:function(t){localStorage.setItem("forum_sort",t),window.location.href="/page/forum_page.html"},to_show_login:function(){this.show_login=!0},my_close:function(){this.show_login&&(this.show_login=!1),this.show_reg&&(this.show_reg=!1)},start_reg:function(){this.show_reg=!0},show_user_control:function(t){this.show_control=!0,t.preventDefault(),t.stopPropagation()},login_out:function(t){localStorage.setItem("current_user",""),t.preventDefault(),t.stopPropagation(),window.location.reload()}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"header"}},[n("div",{staticClass:"link-container"},[n("a",{attrs:{href:"/"}},[t._v("音乐首页")]),t._v(" "),n("a",{attrs:{href:"/page/all_forum.html"}},[t._v("论坛首页")]),t._v(" "),n("a",{attrs:{href:"#"},on:{click:function(e){t.to_forum_page("hot")}}},[t._v("热门")]),t._v(" "),n("a",{attrs:{href:"#"},on:{click:function(e){t.to_forum_page("new")}}},[t._v("最新")])]),t._v(" "),t.user_info?t._e():n("div",{staticClass:"button-container"},[n("button",{staticClass:"login-button",on:{click:t.to_show_login}},[t._v(" 登录")]),t._v(" "),n("button",{staticClass:"register-button",on:{click:t.start_reg}},[t._v("注册")])]),t._v(" "),t.user_info?n("div",{staticClass:"user-info-container"},[n("div",{staticClass:"user-icon",on:{click:t.show_user_control}},[n("img",{attrs:{src:t.user_info.picture,alt:""}})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.show_control,expression:"show_control"}],staticClass:"user-control",class:t.show_control?"active":""},[n("div",{staticClass:"info"},[n("div",{staticClass:"img-container"},[n("img",{attrs:{src:t.user_info.picture,alt:""}})]),t._v(" "),n("p",[t._v(t._s(t.user_info.nickname))])]),t._v(" "),n("div",{staticClass:"manage-list"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t.user_info.is_manager?n("div",{staticClass:"forum-manage manage"},[n("p",[t._v("用户管理")]),t._v(" "),n("button",{attrs:{type:"button",name:"button"}},[t._v("进入")])]):t._e(),t._v(" "),n("div",{staticClass:"manage"},[n("p"),t._v(" "),n("button",{attrs:{type:"button",name:"button"},on:{click:t.login_out}},[t._v("退出")])])])])]):t._e(),t._v(" "),n("transition",{attrs:{name:"fade-in"}},[n("login-com",{directives:[{name:"show",rawName:"v-show",value:t.show_login,expression:"show_login"}],attrs:{"login-type":"login"},on:{"close-login":t.my_close}})],1),t._v(" "),n("transition",{attrs:{name:"fade-in"}},[n("login-com",{directives:[{name:"show",rawName:"v-show",value:t.show_reg,expression:"show_reg"}],attrs:{"login-type":"reg"},on:{"close-login":t.my_close}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"personal-manage manage"},[e("p",[this._v("个人信息管理")]),this._v(" "),e("button",{attrs:{type:"button",name:"button"}},[this._v("进入")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"forum-manage manage"},[e("p",[this._v("论坛管理")]),this._v(" "),e("button",{attrs:{type:"button",name:"button"}},[this._v("进入")])])}]};var i=n("VU/8")(o,s,!1,function(t){n("mz/e")},"data-v-1f46edeb",null);e.a=i.exports},yzI6:function(t,e){}},["KGP4"]);
//# sourceMappingURL=show_forum.88ebdfab691d781e8b0f.js.map